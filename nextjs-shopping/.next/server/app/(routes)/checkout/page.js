(()=>{var e={};e.id=683,e.ids=[683],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},5202:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var t=s(260),a=s(8203),n=s(5155),o=s.n(n),i=s(7292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let d=["",{children:["(routes)",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4017)),"E:\\website000\\aaa\\nextjs-shopping\\app\\(routes)\\checkout\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6842)),"E:\\website000\\aaa\\nextjs-shopping\\app\\(routes)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9611)),"E:\\website000\\aaa\\nextjs-shopping\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["E:\\website000\\aaa\\nextjs-shopping\\app\\(routes)\\checkout\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(routes)/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1181:(e,r,s)=>{Promise.resolve().then(s.bind(s,4017))},6445:(e,r,s)=>{Promise.resolve().then(s.bind(s,8793))},8793:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(5512),a=s(6544),n=s(8418),o=s(8009),i=s(9513),l=s(1914),d=s(6868),c=s(6131),m=s(7021),u=s(4727),p=s(5409),x=s(5668),h=s(9334);let b=async(e,r)=>{try{return(await x.A.post("http://localhost:1337/api/orders",e,{headers:{Authorization:"Bearer "+r}})).data}catch(e){throw console.log("jwtmi",r),console.log("error",e),e}},j=c.z.object({name:c.z.string().min(2,{message:"Name must be at least 2 characters."}),phone:c.z.string().min(2,{message:"Phone must be at least 2 characters."}),address:c.z.string().min(2,{message:"Address must be at least 2 characters."}),holdername:c.z.string().min(2,{message:"Holder Name must be at least 2 characters."}),ccnumber:c.z.string().regex(/^\d{16}$/,{message:"Credit Number must be 16 digits."}),month:c.z.preprocess(e=>Number(e),c.z.number().min(1,{message:"Month is required."}).max(12,{message:"Month must be between 1 and 12."})),year:c.z.preprocess(e=>Number(e),c.z.number().min(new Date().getFullYear(),{message:"Year must be the current year or later."})),cvc:c.z.string().regex(/^\d{3,4}$/,{message:"CVC must be 3 or 4 digits."})}),g=({subtotal:e,jwt:r,userId:s})=>{let{items:i,fetchItems:c}=(0,n.A)();console.log(i);let g=(0,o.useState)(null)[1],f=(0,h.useRouter)(),v=(0,d.mN)({resolver:(0,l.u)(j),defaultValues:{name:"Mehmet Furkan Kurt",phone:"+90 *** *** ** **",address:"\xc7anakkale T\xfcrkiye",holdername:"Mehmet Furkan Kurt ",ccnumber:"**** **** **** ****",month:1,year:new Date().getFullYear(),cvc:"***"}}),y=async t=>{let n={cardHolderName:t.holdername,cardNumber:t.ccnumber,expireMonth:t.month,expireYear:t.year,cvc:t.cvc,registerCard:"0"},o={id:"BY789",name:t.name,surname:"Youtube",gsmNumber:t.phone,email:"john.doe@example.com",identityNumber:"74300864791",lastLoginDate:"2015-10-05 12:43:35",registrationDate:"2013-04-21 15:12:09",registrationAddress:t.address,ip:"85.34.78.112",city:"Istanbul",country:"Turkey",zipCode:"34732"},l={contactName:t.name,city:"Istanbul",country:"Turkey",address:t.address,zipCode:"34742"},d={contactName:t.name,city:"Istanbul",country:"Turkey",address:t.address,zipCode:"34742"},m=i.map(e=>({id:e.id,name:e.name,category1:"Collectibles",category2:"Accessories",itemType:"PHYSICAL",price:e.amount}));try{let u=await x.A.post("http://localhost:5000/api/payment",{price:e,paidPrice:e,currency:"TRY",basketId:"B67832",paymentCard:n,buyer:o,shippingAddress:l,billingAddress:d,basketItems:m},{headers:{"Content-Type":"application/json"}});if(g(u.data),"success"===u.data.status){let n=i.map(e=>({color:e?.color,size:e?.size,quantity:e?.quantity,amount:e?.amount,product:e.product-12}));console.log("datassss",n);let o={data:{name:t.name,address:t.address,phone:t.phone,userId:s,subtotal:e,paymentText:"Iyzico",OrderItemList:n}};await b(o,r),i.forEach(e=>{(0,a.n)(e.id,r)}),c(s,r),f.push("/my-order")}}catch(e){console.error("Error:",e)}};return(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)(u.lV,{...v,children:(0,t.jsxs)("form",{onSubmit:v.handleSubmit(y),className:"space-y-4",children:[(0,t.jsx)("h2",{className:"border-b border-border text-2xl",children:"Adres"}),(0,t.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,t.jsx)(u.zB,{control:v.control,name:"name",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"İsim"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{placeholder:"John doe",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})}),(0,t.jsx)(u.zB,{control:v.control,name:"phone",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"Telefonun"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{placeholder:"+90 *** *** ** **",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})})]}),(0,t.jsx)(u.zB,{control:v.control,name:"address",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"Adres"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{placeholder:"Şehir mahalle",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})}),(0,t.jsx)("div",{className:"h-8"}),(0,t.jsx)("h2",{className:"border-b border-border text-2xl",children:"Kart Bilgisi"}),(0,t.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,t.jsx)(u.zB,{control:v.control,name:"holdername",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"\xdczerindeki isim"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{placeholder:"Holder Name",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})}),(0,t.jsx)(u.zB,{control:v.control,name:"ccnumber",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"Kredi numarası"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{placeholder:"Credit Number",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})})]}),(0,t.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,t.jsx)(u.zB,{control:v.control,name:"month",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"Ay"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{type:"number",placeholder:"Month",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})}),(0,t.jsx)(u.zB,{control:v.control,name:"year",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"Yıl"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{type:"number",placeholder:"Year",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})}),(0,t.jsx)(u.zB,{control:v.control,name:"cvc",render:({field:e})=>(0,t.jsxs)(u.eI,{className:"w-full",children:[(0,t.jsx)(u.lR,{className:"textone",children:"CVC"}),(0,t.jsx)(u.MJ,{children:(0,t.jsx)(p.p,{placeholder:"CVC",...e})}),(0,t.jsx)(u.C5,{className:"validationLogin"})]})})]}),(0,t.jsx)(m.$,{type:"submit",children:"G\xf6nder"})]})})})},f=()=>{let{items:e,fetchItems:r}=(0,n.A)(),[s,l]=(0,o.useState)(0);(0,o.useEffect)(()=>{r("","")},[r]),(0,o.useEffect)(()=>{let r=0;e.forEach(e=>{r+=e.amount}),l(parseFloat(r.toFixed(2)))},[e]);let d=async e=>{await (0,a.n)(e,""),r("","")};return(0,t.jsx)("div",{className:"container mt-8 mb-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,t.jsx)("div",{className:"col-span-1 lg:col-span-3 background border border-border rounded-md lg:h-screen",children:(0,t.jsx)(g,{subtotal:s.toString(),userId:"",jwt:""})}),(0,t.jsxs)("div",{className:"col-span-1 background border border-border justify-center items-center rounded-md lg:h-screen",children:[e.map(e=>(0,t.jsx)(i.A,{item:e,onDeleteItem:d},e.id)),(0,t.jsxs)("div",{className:"flex border border-background justify-center items-center",children:["Toplam Fiyat: ",s]})]})]})})}},4727:(e,r,s)=>{"use strict";s.d(r,{C5:()=>g,MJ:()=>b,Rr:()=>j,eI:()=>x,lR:()=>h,lV:()=>d,zB:()=>m});var t=s(5512),a=s(8009),n=s(2705),o=s(6868),i=s(9462),l=s(7699);let d=o.Op,c=a.createContext({}),m=({...e})=>(0,t.jsx)(c.Provider,{value:{name:e.name},children:(0,t.jsx)(o.xI,{...e})}),u=()=>{let e=a.useContext(c),r=a.useContext(p),{getFieldState:s,formState:t}=(0,o.xW)(),n=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},p=a.createContext({}),x=a.forwardRef(({className:e,...r},s)=>{let n=a.useId();return(0,t.jsx)(p.Provider,{value:{id:n},children:(0,t.jsx)("div",{ref:s,className:(0,i.cn)("space-y-2",e),...r})})});x.displayName="FormItem";let h=a.forwardRef(({className:e,...r},s)=>{let{error:a,formItemId:n}=u();return(0,t.jsx)(l.Label,{ref:s,className:(0,i.cn)(a&&"text-destructive",e),htmlFor:n,...r})});h.displayName="FormLabel";let b=a.forwardRef(({...e},r)=>{let{error:s,formItemId:a,formDescriptionId:o,formMessageId:i}=u();return(0,t.jsx)(n.DX,{ref:r,id:a,"aria-describedby":s?`${o} ${i}`:`${o}`,"aria-invalid":!!s,...e})});b.displayName="FormControl";let j=a.forwardRef(({className:e,...r},s)=>{let{formDescriptionId:a}=u();return(0,t.jsx)("p",{ref:s,id:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...r})});j.displayName="FormDescription";let g=a.forwardRef(({className:e,children:r,...s},a)=>{let{error:n,formMessageId:o}=u(),l=n?String(n?.message):r;return l?(0,t.jsx)("p",{ref:a,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",e),...s,children:l}):null});g.displayName="FormMessage"},4017:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\website000\\\\aaa\\\\nextjs-shopping\\\\app\\\\(routes)\\\\checkout\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\website000\\aaa\\nextjs-shopping\\app\\(routes)\\checkout\\page.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,949,366,28,934,692],()=>s(5202));module.exports=t})();