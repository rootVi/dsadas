(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{1745:(e,t,l)=>{Promise.resolve().then(l.bind(l,917))},6776:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(5155),s=l(9602);function r(e){let{className:t,...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...l})}l(2115);let i=()=>(0,a.jsx)("div",{className:"hidden lg:flex gap-8",children:Array.from({length:3}).map((e,t)=>(0,a.jsx)(r,{className:"h-6 w-12 skeletoncolor"},t))})},4899:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(5155);l(2115);var s=l(9627),r=l(5565);let i=e=>{let{images:t}=e,l=(null==t?void 0:t.length)>1;return(0,a.jsxs)(s.FN,{opts:{align:"start",loop:!1},children:[(0,a.jsx)(s.Wk,{children:null==t?void 0:t.map((e,t)=>(0,a.jsx)(s.A7,{children:(0,a.jsx)(r.default,{width:500,alt:"alt",height:200,unoptimized:!0,src:"http://localhost:1337"+e.url,className:"rounded-3xl scale-95 w-full h-[600px] lg:h-[400px] md:h-[450px] xl:h-[360px] group-hover:scale-100 transition-all object-cover duration-700"})},t))}),l&&(0,a.jsx)(s.Q8,{className:"left-0"}),l&&(0,a.jsx)(s.Oj,{className:"right-0"})]})}},917:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>q});var a=l(5155),s=l(2651);let r=async e=>(await s.A.get("".concat("http://localhost:1337/api"+e))).data.data;var i=l(2115),n=l(6046),o=l(6776),d=l(4899);let c=(0,l(9827).v)(e=>({quantity:1,selectedColor:null,selectedSize:null,incrementQuantity:()=>e(e=>({quantity:e.quantity+1})),decrementQuantity:()=>e(e=>({quantity:Math.max(e.quantity-1,1)})),setColor:t=>e(()=>({selectedColor:t})),setSize:t=>e(()=>({selectedSize:t})),reset:()=>e({quantity:1,selectedColor:null,selectedSize:null})}));var u=l(1014),m=l(2645),f=l(2488),h=l(7193),p=l(9602);let x=u.bL;u.YJ;let v=u.WT,g=i.forwardRef((e,t)=>{let{className:l,children:s,...r}=e;return(0,a.jsxs)(u.l9,{ref:t,className:(0,p.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l),...r,children:[s,(0,a.jsx)(u.In,{asChild:!0,children:(0,a.jsx)(m.A,{className:"h-4 w-4 opacity-50"})})]})});g.displayName=u.l9.displayName;let j=i.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,a.jsx)(u.PP,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",l),...s,children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})});j.displayName=u.PP.displayName;let y=i.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,a.jsx)(u.wn,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",l),...s,children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})});y.displayName=u.wn.displayName;let N=i.forwardRef((e,t)=>{let{className:l,children:s,position:r="popper",...i}=e;return(0,a.jsx)(u.ZL,{children:(0,a.jsxs)(u.UC,{ref:t,className:(0,p.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l),position:r,...i,children:[(0,a.jsx)(j,{}),(0,a.jsx)(u.LM,{className:(0,p.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(y,{})]})})});N.displayName=u.UC.displayName,i.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,a.jsx)(u.JU,{ref:t,className:(0,p.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",l),...s})}).displayName=u.JU.displayName;let w=i.forwardRef((e,t)=>{let{className:l,children:s,...r}=e;return(0,a.jsxs)(u.q7,{ref:t,className:(0,p.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(u.VF,{children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})}),(0,a.jsx)(u.p4,{children:s})]})});w.displayName=u.q7.displayName,i.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,a.jsx)(u.wv,{ref:t,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",l),...s})}).displayName=u.wv.displayName;var b=l(4085),C=l(8209),z=l(4683),A=l(2783);let k="".concat("http://localhost:1337/api","/carts"),P=async(e,t)=>{try{return(await s.A.post(k,e,{headers:{Authorization:" Bearer "+t}})).data}catch(e){throw console.log("jwtmi",t),console.log("error",e),e}};var R=l(3216);let S=e=>{var t,l;let{product:s}=e,[r,o]=(0,i.useState)(!1),d=(0,R.A)(e=>e.fetchItems),u=(0,n.useRouter)(),{decrementQuantity:m,incrementQuantity:f,quantity:h,reset:p,selectedColor:j,selectedSize:y,setColor:k,setSize:S}=c();(0,i.useEffect)(()=>{p()},[s]);let q=(h*(null==s?void 0:s.sellingPrice)).toFixed(2),_="",I="",E="";try{_=localStorage.getItem("jwt")||"",(I=localStorage.getItem("user")||"")&&(E=JSON.parse(I).id)}catch(e){console.log("Error",e)}let $=async()=>{if(E||_||u.push("/login"),j&&y)try{o(!0);let e={data:{quantity:h,amount:q,size:y,color:j,products:s.id,users_permissions_user:E,userId:E}};console.log("datas",e),await P(e,_),d(E,_)}catch(e){console.log("error",e)}finally{o(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsxs)(x,{onValueChange:e=>{k(e)},children:[(0,a.jsx)(g,{className:"w-[180px]",children:(0,a.jsx)(v,{placeholder:"Renk"})}),(0,a.jsx)(N,{children:null==s?void 0:null===(t=s.colors)||void 0===t?void 0:t.map(e=>(0,a.jsxs)(w,{value:null==e?void 0:e.name,children:[null==e?void 0:e.name," "]},s.id))})]}),(0,a.jsxs)(x,{onValueChange:e=>{S(e)},children:[(0,a.jsx)(g,{className:"w-[180px]",children:(0,a.jsx)(v,{placeholder:"Size"})}),(0,a.jsx)(N,{children:null==s?void 0:null===(l=s.sizes)||void 0===l?void 0:l.map(e=>(0,a.jsxs)(w,{value:null==e?void 0:e.name,children:[null==e?void 0:e.name," "]},e.id))})]})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-4 mt-8",children:[(0,a.jsx)(b.$,{size:"lg",disabled:1===h,onClick:m,children:(0,a.jsx)(C.A,{})}),(0,a.jsx)("h2",{children:h}),(0,a.jsx)(b.$,{size:"lg",onClick:f,children:(0,a.jsx)(z.A,{})}),"₺",q]}),(0,a.jsx)("div",{className:"flex flex-row gap-2 mt-8",children:(0,a.jsx)(b.$,{onClick:$,variant:"destructive",children:r?(0,a.jsx)(A.A,{className:"animate-spin"}):"At sepete bacım"})})]})},q=()=>{let e=(0,n.useParams)(),[t,l]=(0,i.useState)([]),[s,c]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(async()=>{if(null==e?void 0:e.slug)try{let t=await r("/products?filters[slug][$eq]=".concat(e.slug,"&populate=*"));l(t)}catch(e){console.error("Failed to fetch products",e)}finally{c(!1)}})()},[null==e?void 0:e.slug]),(0,a.jsx)(a.Fragment,{children:s?(0,a.jsx)(o.A,{}):(0,a.jsx)("div",{className:"-mt-5 container mx-auto",children:t.map((e,t)=>{var l;return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-8 container",children:[(0,a.jsx)("div",{children:(0,a.jsx)(d.A,{images:null==e?void 0:e.images})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 mx-2",children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold mt-6",children:null==e?void 0:e.name}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-mycolor2 dark:text-mycolor5",children:null==e?void 0:null===(l=e.category)||void 0===l?void 0:l.name}),(0,a.jsx)("p",{children:null==e?void 0:e.description}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(null==e?void 0:e.sellingPrice)&&(0,a.jsxs)("h2",{className:"font-bold text-mycolor2 text-3xl",children:["₺",null==e?void 0:e.sellingPrice]}),(0,a.jsxs)("h2",{className:(null==e?void 0:e.sellingPrice)?"line-through text-gray-500":"",children:["₺".concat(null==e?void 0:e.mrp)," "]})]}),(0,a.jsx)(S,{product:e,btnVisible:!1})]})})]},t)})})})}},4085:(e,t,l)=>{"use strict";l.d(t,{$:()=>d,r:()=>o});var a=l(5155),s=l(2115),r=l(2317),i=l(1027),n=l(9602);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:l,variant:s,size:i,asChild:d=!1,...c}=e,u=d?r.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(o({variant:s,size:i,className:l})),ref:t,...c})});d.displayName="Button"},9627:(e,t,l)=>{"use strict";l.d(t,{A7:()=>h,FN:()=>m,Oj:()=>x,Q8:()=>p,Wk:()=>f});var a=l(5155),s=l(2115),r=l(2576),i=l(1598),n=l(2884),o=l(9602),d=l(4085);let c=s.createContext(null);function u(){let e=s.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let m=s.forwardRef((e,t)=>{let{orientation:l="horizontal",opts:i,setApi:n,plugins:d,className:u,children:m,...f}=e,[h,p]=(0,r.A)({...i,axis:"horizontal"===l?"x":"y"},d),[x,v]=s.useState(!1),[g,j]=s.useState(!1),y=s.useCallback(e=>{e&&(v(e.canScrollPrev()),j(e.canScrollNext()))},[]),N=s.useCallback(()=>{null==p||p.scrollPrev()},[p]),w=s.useCallback(()=>{null==p||p.scrollNext()},[p]),b=s.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),N()):"ArrowRight"===e.key&&(e.preventDefault(),w())},[N,w]);return s.useEffect(()=>{p&&n&&n(p)},[p,n]),s.useEffect(()=>{if(p)return y(p),p.on("reInit",y),p.on("select",y),()=>{null==p||p.off("select",y)}},[p,y]),(0,a.jsx)(c.Provider,{value:{carouselRef:h,api:p,opts:i,orientation:l||((null==i?void 0:i.axis)==="y"?"vertical":"horizontal"),scrollPrev:N,scrollNext:w,canScrollPrev:x,canScrollNext:g},children:(0,a.jsx)("div",{ref:t,onKeyDownCapture:b,className:(0,o.cn)("relative",u),role:"region","aria-roledescription":"carousel",...f,children:m})})});m.displayName="Carousel";let f=s.forwardRef((e,t)=>{let{className:l,...s}=e,{carouselRef:r,orientation:i}=u();return(0,a.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",l),...s})})});f.displayName="CarouselContent";let h=s.forwardRef((e,t)=>{let{className:l,...s}=e,{orientation:r}=u();return(0,a.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,o.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",l),...s})});h.displayName="CarouselItem";let p=s.forwardRef((e,t)=>{let{className:l,variant:s="outline",size:r="icon",...n}=e,{orientation:c,scrollPrev:m,canScrollPrev:f}=u();return(0,a.jsxs)(d.$,{ref:t,variant:s,size:r,className:(0,o.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",l),disabled:!f,onClick:m,...n,children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});p.displayName="CarouselPrevious";let x=s.forwardRef((e,t)=>{let{className:l,variant:s="outline",size:r="icon",...i}=e,{orientation:c,scrollNext:m,canScrollNext:f}=u();return(0,a.jsxs)(d.$,{ref:t,variant:s,size:r,className:(0,o.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",l),disabled:!f,onClick:m,...i,children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Next slide"})]})});x.displayName="CarouselNext"},3216:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(2651);let s=async(e,t)=>{let l="".concat("http://localhost:1337/api","/carts?filters[userId][$eq]=").concat(e,"&populate[products][populate][images][fields][0]=url");try{return(await a.A.get(l,{headers:{Authorization:"Bearer "+t}})).data.data.map(e=>{var t,l,a,s;return{name:null==e?void 0:null===(t=e.products[0])||void 0===t?void 0:t.name,quantity:null==e?void 0:e.quantity,amount:null==e?void 0:e.amount,id:null==e?void 0:e.documentId,color:null==e?void 0:e.color,size:null==e?void 0:e.size,product:null==e?void 0:null===(l=e.products[0])||void 0===l?void 0:l.id,images:null==e?void 0:null===(s=e.products[0])||void 0===s?void 0:null===(a=s.images[0])||void 0===a?void 0:a.url}})}catch(e){throw console.log("error",e),e}},r=(0,l(9827).v)(e=>({items:[],fetchItems:async(t,l)=>{e({items:await s(t,l)})}}))},9602:(e,t,l)=>{"use strict";l.d(t,{cn:()=>r});var a=l(3463),s=l(9795);function r(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[999,433,970,443,743,353,441,517,358],()=>t(1745)),_N_E=e.O()}]);